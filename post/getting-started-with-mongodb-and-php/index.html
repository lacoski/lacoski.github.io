<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
    <meta charset="utf-8">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="description" content="The first in a series of posts on MongoDB and PHP that will both explain why you should use MongoDB and teach you how.">
<meta name="keywords" content="Development, MongoDB, php, mongodb, nosql, Open source, Pear, PHP, ">

 
<meta property="og:type" content="article"/>
<meta property="og:description" content="The first in a series of posts on MongoDB and PHP that will both explain why you should use MongoDB and teach you how."/>
<meta property="og:title" content="Getting Started with MongoDB and PHP : spf13.com"/>
<meta property="og:site_name" content="spf13 is Steve Francia"/>
<meta property="og:image" content="" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="" />
<meta property="og:image:height" content="" />
<meta property="og:url" content="https://lacoski.github.io/post/getting-started-with-mongodb-and-php/">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2012-05-14"/>
<meta property="article:modified_time" content="2012-05-14"/>



<meta property="article:tag" content="Development">
<meta property="article:tag" content="MongoDB">
<meta property="article:tag" content="php">
<meta property="article:tag" content="mongodb">
<meta property="article:tag" content="nosql">
<meta property="article:tag" content="Open source">
<meta property="article:tag" content="Pear">
<meta property="article:tag" content="PHP">




<meta name="twitter:card" content="summary">

<meta name="twitter:site" content="@spf13">
<meta name="twitter:title" content="Getting Started with MongoDB and PHP : spf13.com">
<meta name="twitter:creator" content="@spf13">
<meta name="twitter:description" content="The first in a series of posts on MongoDB and PHP that will both explain why you should use MongoDB and teach you how.">
<meta name="twitter:image:src" content="">
<meta name="twitter:domain" content="spf13.com">



    <base href="https://lacoski.github.io/">
    <title> Getting Started with MongoDB and PHP - spf13.com </title>
    <link rel="canonical" href="https://lacoski.github.io/post/getting-started-with-mongodb-and-php/">
    

    <link href='http://fonts.googleapis.com/css?family=Fjalla+One|Open+Sans:300' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/static/css/style.css">

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
</head>

<body lang="en" itemscope itemtype="http://schema.org/Article">
<header id="header">
    <figure>
      <a href="/" border=0 id="logolink"><div class="icon-spf13-3" id="logo"> </div></a>
    </figure>
    <div id="byline">by Steve Francia</div>
    <nav id="nav">
            <ul id="mainnav">
            <li>
                <a href="/post/">
                <span class="icon"> <i aria-hidden="true" class="icon-quill"></i></span>
                <span> blog </span>
            </a>
            </li>
            <li>
            <a href="/project/">
                <span class="icon"> <i aria-hidden="true" class="icon-console"></i></span>
                <span> code </span>
            </a>
            </li>
            <li>
            <a href="/presentation/">
                <span class="icon"> <i aria-hidden="true" class="icon-stats"></i></span>
                <span> talks </span>
            </a>
            </li>
            <li>
            <a href="http://stevefrancia.com">
                <span class="icon"> <i aria-hidden="true" class="icon-13"></i></span>
                <span> me </span>
            </a>
            </li>
        </ul>

            <ul id="social">
            <li id="share">
                <span class="icon icon-bubbles"> </span>
                <span class="title"> share </span>
                <div class="dropdown share">
                    <ul class="social">
                      <li> <a href="https://twitter.com/intent/tweet?status=Getting%20Started%20with%20MongoDB%20and%20PHP-https%3a%2f%2flacoski.github.io%2fpost%2fgetting-started-with-mongodb-and-php%2f" target="_blank" title="Follow me on Twitter" class="twitter"><span class="icon icon-twitter"></span>Twitter</a> </li>
                        <li> <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2flacoski.github.io%2fpost%2fgetting-started-with-mongodb-and-php%2f" target="_blank" title="Join me on Facebook" class="facebook"><span class="icon icon-facebook"></span>Facebook</a> </li>
                        <li> <a href="https://plus.google.com/share?url=https%3a%2f%2flacoski.github.io%2fpost%2fgetting-started-with-mongodb-and-php%2f" target="_blank" title="Google+" class="googleplus"><span class="icon icon-google-plus"></span>Google+</a> </li>
                        <li> <a href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2flacoski.github.io%2fpost%2fgetting-started-with-mongodb-and-php%2f&title=Getting%20Started%20with%20MongoDB%20and%20PHP&source=spf13" target="_blank" title="LinkedIn" class="linkedin"><span class="icon icon-linkedin"></span>LinkedIn</a> </li>
                        <li> <a href="http://del.icio.us/post?url=https%3a%2f%2flacoski.github.io%2fpost%2fgetting-started-with-mongodb-and-php%2f" target="_blank" title="Delicious" class="delicious"><span class="icon icon-delicious"></span>Delicious</a> </li>
                        <li> <a href="http://www.reddit.com/submit?url=https%3a%2f%2flacoski.github.io%2fpost%2fgetting-started-with-mongodb-and-php%2f" target="_blank" title="Reddit" class="reddit"><span class="icon icon-reddit"></span>Reddit</a> </li>
                        <li> <a href="http://www.stumbleupon.com/submit?url=https%3a%2f%2flacoski.github.io%2fpost%2fgetting-started-with-mongodb-and-php%2f" target="_blank" title="StumbleUpon" class="stumbleupon"><span class="icon icon-stumbleupon"></span>StumbleUpon</a> </li>
                    </ul>
                    <span class="subcount">sharing is caring</span>
                </div>
            </li>
            <li id="follow">
                <span class="icon icon-rocket"> </span>
                <span class="title"> follow </span>
                <div class="dropdown follow">
                    <ul class="social">                        
                        <li> <a href="https://www.facebook.com/" target="_blank" title="Join me on Facebook" class="facebook"><span class="icon icon-facebook"></span>Facebook</a> </li>                        
                        <li> <a href="https://github.com/lacoski" target="_blank" title="GitHub" class="github"><span class="icon icon-github"></span>GitHub</a> </li>                        
                    </ul>
                    <span class="subcount">join 10k+ subscribers &amp; followers</span>
                </div>
            </li>
        </ul>

    </nav>
</header>



<section id="main">
  <h1 itemprop="name" id="title">Getting Started with MongoDB and PHP</h1>
  <div>
        <article itemprop="articleBody" id="content">
           

<p><a href="/uploads/2012/05/MongoPHP.png" title="Getting Started with MongoDB and PHP"><img src="/images/1800_MongoPHP.png-200x200.png" alt="Getting Started with MongoDB and
PHP" /></a></p>

<p>Nearly 3 years ago I discovered a new database that literally changed my
life. I know, that’s a pretty bold claim, but it’s true. While leading
the engineering team at <a href="http://osky.co/uGeJpa">OpenSky</a> I faced a
problem I was well familiar with. How to build a e-commerce product
that: 1. Provided performance and scale 2. Handled many verticals and 3.
Provided proper indexing on key attributes. In search for a better
solution to this problem I encountered MongoDB. I soon experienced a
realization that not only was MongoDB the solution to my e-commerce
challenge, but fundamentally would change the way all development
happens.</p>

<p>This is the first in a series of posts on MongoDB and PHP that will both
explain why you should use MongoDB and teach you how. In this first post
we will begin with installing the necessary servers and drivers to be
able to use MongoDB with PHP.</p>

<h1 id="introduction-to-mongodb">Introduction to MongoDB</h1>

<p>MongoDB (from “hu<strong>mongo</strong>us”) is a scalable, high-performance, open
source document database written in C++. While many people hear
‘document database’ and they think of pdf and doc files, the term
document really is analogous to an array in PHP. Effectively MongoDB is
a persistent storage engine for PHP arrays and objects (as well as any
other language) with read through, write thorough memory caching, true
high availability,  an elegant interface and seamless horizontal scale.
Once you write an application with MongoDB you’ll wonder why anyone uses
anything else.</p>

<h1 id="installing-mongodb">Installing MongoDB</h1>

<p>Installing MongoDB is as easy as using your package installer to install
the package. Whether you are using Linux, Mac or Windows, it’s easy to
install MongoDB.</p>

<p><a href="http://docs.mongodb.org/manual">The MongoDB Manual</a> has a <a href="http://docs.mongodb.org/manual/installation/">complete
guide on installing
MongoDB</a> for all the
different systems it supports.</p>

<h1 id="installing-php-driver-for-mongodb">Installing PHP Driver for MongoDB</h1>

<p>The 1st step is to install PECL. PECL is the default installer for all C
extensions to the PHP driver. Usually if you have PHP installed you
already have PECL. You may be surprised to find that Mac OS X doesn’t
include PECL, in the event you don’t have PECL already, here’s how to
install it.</p>

<h3 id="installing-pear-pecl">Installing PEAR &amp; PECL</h3>

<ol>
<li>cd /usr/lib/php</li>
<li><code>sudo php install-pear-nozlib.phar</code></li>
<li>Edit <code>/etc/php.ini</code> and find the line:
 <code>;include_path = &quot;.:/php/includes&quot;</code>change it
to: <code>include_path = &quot;.:/usr/lib/php/pear&quot;</code><em>make sure to remove the
‘;’ at the beginning of that line.</em></li>
<li><code>sudo pear channel-update pear.php.net</code></li>
<li><code>sudo pecl channel-update pecl.php.net</code></li>
<li><code>sudo pear upgrade-all</code></li>
</ol>

<p>Once you have PECL installed the process is easy to install the Mongo DB
driver. A simple</p>

<pre><code>pecl install mongo
</code></pre>

<p>is all it takes. Once that’s completed you’ll need to add the extension
line to your PHP.ini file and restart Apache. For *nix the line is</p>

<pre><code>extension=mongo.so
</code></pre>

<p>Once Apache is restarted you should confirm that the MongoDB extension
is installed by checking php_info(). A shortcut for this is</p>

<p>$ php &ndash;re mongo</p>

<h1 id="creating-your-first-connection-to-mongodb">Creating your first connection to MongoDB</h1>

<p>Creating a connection to MongoDB is pretty easy. We create a new Mongo
object and pass in the URI of the server you’re connecting to. The
following example will show you how to connect to a Mongo DB server,
create a db and a collection and insert a single record into that
collection.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">&lt;<span style="color:#f92672">p</span>&gt;&amp;lt;?php
// open connection to MongoDB server
$conn = new Mongo(&amp;lsquo;localhost&amp;rsquo;);
// access people collection inside the test database
$people = $conn-&amp;gt;test-&amp;gt;people;
$person = [ &amp;lsquo;name&amp;rsquo; =&amp;gt; &amp;lsquo;Steve Francia&amp;rsquo;, &amp;lsquo;alias&amp;rsquo; =&amp;gt; &amp;lsquo;spf13&amp;rsquo;];
$people-&amp;gt;save($person);
print_r($people-&amp;gt;findAll());
?&amp;gt;&lt;/<span style="color:#f92672">p</span>&gt;</code></pre></div>

<p>Stay tuned for my next post which I will demonstrate how to perform
basic crud operations in MongoDB.</p>

<h3 id="related-posts">Related Posts</h3>

<ul>
<li><a href="http://spf13.com/post/nosql-databases-and-managing-big-data/">NoSQL databases and Managing Big
Data</a></li>
<li><a href="http://spf13.com/post/mongodb-and-php-at-zendcon-2011/">MongoDB and PHP at ZendCon
2011</a></li>
<li><a href="http://spf13.com/post/mongodb-php-and-the-cloud-php-cloud-summit-2011/">MongoDB, PHP and the Cloud – PHP Cloud Summit
2011</a></li>
<li><a href="http://spf13.com/post/mongodb-and-php-the-book/">MongoDB and PHP, The
Book</a></li>
</ul>

        </article>
  </div>
</section>



<aside id="meta">

    <div>
        <section id="datecount">
          <h4 id="date"> Mon May 14, 2012 </h4>
          <h5 id="wc"> 700 Words </h5>
          <h5 id="readtime"> Read in about 3 Min </h5>
        </section>
        <ul id="categories">
          
            <li><a href="https://lacoski.github.io//topics/development">Development</a> </li>
          
            <li><a href="https://lacoski.github.io//topics/mongodb">MongoDB</a> </li>
          
            <li><a href="https://lacoski.github.io//topics/php">php</a> </li>
          
        </ul>
        <ul id="tags">
          
            <li> <a href="https://lacoski.github.io//tags/mongodb">mongodb</a> </li>
          
            <li> <a href="https://lacoski.github.io//tags/nosql">nosql</a> </li>
          
            <li> <a href="https://lacoski.github.io//tags/open-source">Open source</a> </li>
          
            <li> <a href="https://lacoski.github.io//tags/pear">Pear</a> </li>
          
            <li> <a href="https://lacoski.github.io//tags/php">PHP</a> </li>
          
        </ul>
    </div>

    <div>
        <section id="prev">
            &nbsp;<a class="previous" href="https://lacoski.github.io/presentation/multi-data-center-strategies/"><i class="icon-arrow-left"></i> Multi Data Center Strategies and MongoDB</a><br>
        </section><section id="next">
            &nbsp;<a class="next" href="https://lacoski.github.io/presentation/nosql-databases-and-managing-big-data/">NoSQL databases and Managing Big Data <i class="icon-arrow-right"></i></a>
        </section>
    </div>

    <div> <section id="author"> <h4>About the Author:</h4> 

            <p>
            Steve Francia is an American Software Engineer, Speaker & Author
            based in NYC. He has the unique distinction of having held
            leadership roles in five of the largest open source projects. 
            </p>

            <p>
            He currently works at <a href="http://google.com">Google</a> on the leadership team of <a href="http://golang.org">the Go
                language</a> where  he is responsible for the strategy and product of
            the Go project and it's over 1M users. He also currently serves as
            a Director of the <a href="http://drupal.org">Drupal Association</a>.
            </p>
            
            <p>
            He previously held executive roles at <a href="http://docker.com">Docker</a> and <a
            href="http://mongodb.com">MongoDB</a> where he
            led engineering, product and open source.
            </p>
            
            <p> 
            He is the creator of <a href="http://gohugo.io">Hugo</a>, <a
                href="http://github.com/spf13/cobra">Cobra</a>, <a
                href="http://github.com/spf13/viper">Viper</a>, <a
            href="http://vim.spf13.com">spf13-vim</a> and many <a
            href="http://github.com/spf13">additional open source projects</a>.
            </p>
            
            <p>
            He is a published author, speaker,
            developer, and father of 4. Outside of technology Steve likes
            skateboarding, punk rock, and dystopian films.
            </p>


        </section> </div>

</aside>

<meta itemprop="wordCount" content="605">
<meta itemprop="datePublished" content="2012-05-14">
<meta itemprop="url" content="https://lacoski.github.io/post/getting-started-with-mongodb-and-php/">



<footer>
  <div>
    <p>
    &copy; 2013-18 <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Steve Francia.</span></span>
    <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons Attribution">Some rights reserved</a>;
    please attribute properly and link back. <br>
    Powered by <a href="http://gohugo.io">Hugo</a>.
    </p>
  </div>
</footer>
<script type="text/javascript">
(function(){var j=function(a,b){return window.getComputedStyle?getComputedStyle(a).getPropertyValue(b):a.currentStyle[b]};var k=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,false);else a.attachEvent('on'+b,c)};var l=function(a,b){for(key in b)if(b.hasOwnProperty(key))a[key]=b[key];return a};window.fitText=function(d,e,f){var g=l({'minFontSize':-1/0,'maxFontSize':1/0},f);var h=function(a){var b=e||1;var c=function(){a.style.fontSize=Math.max(Math.min(a.clientWidth/(b*10),parseFloat(g.maxFontSize)),parseFloat(g.minFontSize))+'px'};c();k(window,'resize',c)};if(d.length)for(var i=0;i<d.length;i++)h(d[i]);else h(d);return d}})();
fitText(document.getElementById('title'), 1)
</script>

<script type="application/javascript">
var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
var doNotTrack = (dnt == "1" || dnt == "yes");
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	if (window.sessionStorage) {
		var GA_SESSION_STORAGE_KEY = 'ga:clientId';
		ga('create', 'UA-7131036-1', {
	    'storage': 'none',
	    'clientId': sessionStorage.getItem(GA_SESSION_STORAGE_KEY)
	   });
	   ga(function(tracker) {
	    sessionStorage.setItem(GA_SESSION_STORAGE_KEY, tracker.get('clientId'));
	   });
   }
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>
</html>

